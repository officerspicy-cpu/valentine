<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine Test</title>
<style>
  body{
    margin:0; height:100vh; display:flex; justify-content:center; align-items:center;
    font-family: Arial, sans-serif; background:pink; overflow:hidden;
  }
  #popup{
    background:#fff; padding:40px; border-radius:16px;
    box-shadow:0 10px 25px rgba(0,0,0,.2); text-align:center; position:relative;
  }
  button{ font-size:20px; padding:10px 22px; margin:10px; border:0; border-radius:10px; cursor:pointer; }
  #yes{ background:#ff4fa3; color:#fff; }
  #no{ background:#eee; }
  #celebration{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center; flex-direction:column;
    background: radial-gradient(circle at top, #ffd1e8, #ff57b0);
    z-index:9999; text-align:center;
  }
  #celebration.show{ display:flex; }
  #celebration h1{ margin:0; font-size:64px; color:#fff; text-shadow:0 8px 22px rgba(0,0,0,.25); }
  #celebration p{ margin:12px 0 0; font-size:22px; color:#fff; opacity:.95; }

  .confetti{
    position:fixed; top:-30px; z-index:10000; pointer-events:none;
    animation: fall linear forwards;
  }
  @keyframes fall{
    to{ transform: translateY(110vh) rotate(720deg); opacity:1; }
  }
</style>
</head>
<body>

<div id="popup">
  <h1>Will you be my Valentine?</h1>
  <button id="yes">Yes</button>
  <button id="no">No</button>
</div>

<div id="celebration">
  <h1>YES!!! ðŸ’˜</h1>
  <p>Look up â€” confetti is raining.</p>
</div>

<script>
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");

 noBtn.addEventListener("mouseover", () => {
  const popup = document.getElementById("popup");

  // Make sure the popup is the positioning reference
  popup.style.position = "relative";
  noBtn.style.position = "absolute";

  const pad = 10;

  // Keep it INSIDE the popup
  const maxX = popup.clientWidth - noBtn.offsetWidth - pad;
  const maxY = popup.clientHeight - noBtn.offsetHeight - pad;

  const x = pad + Math.random() * Math.max(0, maxX);
  const y = pad + Math.random() * Math.max(0, maxY);

  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
});

  yesBtn.addEventListener("click", () => {
    console.log("YES CLICKED"); // debug proof

    document.getElementById("popup").style.display = "none";
    document.getElementById("celebration").classList.add("show");

    const endTime = Date.now() + 5000;
    const emojis = ["ðŸ’–","ðŸ’•","ðŸ’˜","âœ¨","ðŸŒ¸","ðŸŽ‰"];

    const interval = setInterval(() => {
      for (let i = 0; i < 12; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        c.style.left = (Math.random() * 100) + "vw";
        c.style.fontSize = (18 + Math.random() * 28) + "px";
        const dur = 2 + Math.random() * 2.5;
        c.style.animationDuration = dur + "s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), dur * 1000);
      }
      if (Date.now() > endTime) clearInterval(interval);
    }, 120);
  });
</script>

</body>
</html>

